# RingoTrack

> 为画师准备的跨平台绘画时间追踪工具，用 GitHub 小绿砖风格的日历热力图记录你的创作习惯。

RingoTrack 是一个基于 Flutter 的桌面应用程序，用来统计本机前台「绘画软件」的使用时长，并通过类似 GitHub contributions 的日历热力图展示你的绘画活跃度。

项目目前以 **Apache 2.0 协议开源**，支持 **Windows / macOS 双平台**（当前 GitHub Releases 里暂时只有 Windows 版可执行文件，macOS 请先通过源码构建）。

---

## 开发动机

最初的想法来自一次闲聊：  
聊到 GitHub 的小绿砖热力图时，觉得那种「用一整面墙记录长期投入」的方式很适合用在绘画这类需要长期练习的事情上。

但现成的工具更多是面向写代码或记录工作时间，很少有专门为画师做、同时支持 Windows 和 macOS 的简单小工具。

RingoTrack 就是在这个背景下做出来的：  
把前台绘画软件的使用时长统计下来，用一块类似 GitHub contributions 的日历热力图，安静地记录你画画的频率和节奏。

---

## 功能特性

- ⏱️ **自动统计绘画软件使用时长**
  - 后台监听当前前台窗口，只对「绘画软件」计时。
  - 非绘画软件（浏览器、视频播放器等）不会计入。
- 🧱 **GitHub 风格日历热力图**
  - 以自然日为单位展示每日绘画总时长。
  - 颜色深浅映射时长多寡，一眼看出「高强度创作日」和「完全没画的日子」。
- 🎨 **多视图支持**
  - 总览视图：合并所有绘画软件，看整体绘画活跃度。
  - 按软件视图：每个软件一行，方便对比「主力软件」与辅助工具。
  - 分析视图：最近 30 天趋势、周总时长、应用占比、星期分布等。
- 🌙 **跨天处理**
  - 支持跨 00:00 的使用时长自动拆分到前后两天，保证统计准确。
- ⚙️ **可配置的绘画软件列表**
  - 支持从内置列表添加常见绘画软件。
  - 支持手动录入 exe 名 / bundleId，覆盖冷门或自定义软件。
- 🗂 **数据管理与主题**
  - 支持按软件、按日期范围删除数据或一键清空。
  - 内置多种主题色，界面整体为桌面端友好的卡片式布局。
- 🔒 **隐私友好**
  - 所有数据均保存在本地，不上传到服务器。

---

## 平台支持

- **Windows**
  - 通过 win32 API（Dart FFI）轮询前台窗口，识别当前前台进程 exe 名。
  - Releases 中目前提供 Windows 版可执行文件。
- **macOS**
  - 通过 Swift + AppKit，使用 `NSWorkspace` 前台应用通知获取当前 App。
  - 当前暂未提供打包好的安装包，可通过源码自行构建运行。

主要面向 Windows 10+ 与 macOS 13+ 的桌面环境（其他版本未做系统性验证）。

---

## 快速体验

### 1. 从 Releases 下载（推荐给 Windows 用户）

1. 前往本仓库的 **Releases 页面**。
2. 下载最新版本的 Windows 可执行文件或安装包。
3. 启动 RingoTrack，并保持在后台运行即可开始记录。

> macOS 版后续会随着项目完善逐步提供打包产物，目前请参考下方「从源码构建」。

### 2. 从源码构建

环境准备：

- 已安装 Flutter（建议 3.38.3 及以上）和 Dart（建议 3.10.1 及以上）。
- 已开启对应桌面平台支持：
  - Windows：`flutter config --enable-windows-desktop`
  - macOS：`flutter config --enable-macos-desktop`

步骤：

```bash
git clone https://github.com/ringotypowriter/ringotrack.git
cd ringotrack

flutter pub get

# Windows
flutter run -d windows

# macOS
flutter run -d macos
```

---

## 使用说明

1. 启动 RingoTrack 后，保持应用在后台运行即可开始记录。
2. 像平时一样打开你的绘画软件（例如 Photoshop、CLIP STUDIO PAINT 等），正常创作。
3. RingoTrack 会自动统计前台绘画软件在每天的累计使用时长。
4. 打开「仪表盘」页面可以看到：
   - 今日 / 本周 / 本月绘画总时长。
   - 连续绘画天数。
   - 小绿砖日历热力图（总览视图 / 按软件视图）。
   - 分析视图中的折线图、柱状图、饼图等基础分析。
5. 在「偏好设置」里可以：
   - 调整主题色。
   - 管理需要计入统计的绘画软件列表（从内置列表选择或手动添加）。
   - 删除某个软件的数据、按日期范围删除数据或一键清空所有记录。
   - 查看本地日志（在遇到问题时便于排查或反馈）。

RingoTrack 当前仍处在早期版本阶段，界面和功能会随着使用反馈不断调整和迭代。

---

## 常见问题 (FAQ)

### Q: Windows 系统下程序无法运行或闪退？

**A:** 这通常是由于文件路径中包含中文字符导致的。Flutter 桌面应用在 Windows 上对中文路径支持存在兼容性问题。

**解决方案：**
1. 将 RingoTrack 程序文件移动到英文路径下（如 `C:ingotrackingotrack.exe`）
2. 确保运行目录和临时目录路径中不包含中文字符
3. 如果问题仍然存在，请尝试以管理员身份运行程序

### Q: 为什么我的绘画软件没有被记录？

**A:** 请检查以下几点：
1. 确认该软件已在「偏好设置」的绘画软件列表中
2. 确保 RingoTrack 正在后台运行
3. 某些软件可能需要重新启动才能被正确识别
4. 检查是否被安全软件拦截了窗口监控权限

### Q: 数据会上传到服务器吗？

**A:** 不会。RingoTrack 所有数据都保存在本地，不会上传到任何服务器。你的使用记录完全由你自己掌控。

---

## 开发与贡献

欢迎提交 Issue 或 Pull Request，一起把这堵「画画小绿砖墙」打磨得更好：

```bash
# 安装依赖
flutter pub get

# 运行测试
flutter test

# 代码静态检查
flutter analyze
```

目前项目节奏是「边用边调」, 会慢慢更新并完善功能

---

## 许可证

本项目使用 **Apache License 2.0** 协议开源，具体条款请参考仓库中的 `LICENSE` 文件。

你可以自由地使用、修改和分发本项目，但在再分发时请保留原始协议声明，并遵守 Apache 2.0 的相关要求。
